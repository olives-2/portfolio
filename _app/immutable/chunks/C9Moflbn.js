import{C as y,x as d,h as _,v as k,j as u,a as R,l as w,b as O,e as A,g as C,F as I,K as N,I as h,A as T,J as j,L as D,M as m,N as v,O as E,P as F}from"./zFkh6Yn2.js";import{c as p,d as H}from"./ClQajLCt.js";function L(f,e,s,l,i){var r=f,o="",t;y(()=>{if(o===(o=e()??"")){d&&_();return}t!==void 0&&(I(t),t=void 0),o!==""&&(t=k(()=>{if(d){u.data;for(var a=_(),n=a;a!==null&&(a.nodeType!==8||a.data!=="");)n=a,a=R(a);if(a===null)throw w(),O;p(u,n),r=A(a);return}var b=o+"",c=H(b);p(C(c),c.lastChild),r.before(c)}))})}function M(f=!1){const e=T,s=e.l.u;if(!s)return;let l=()=>E(e.s);if(f){let i=0,r={};const o=F(()=>{let t=!1;const a=e.s;for(const n in a)a[n]!==r[n]&&(r[n]=a[n],t=!0);return t&&i++,i});l=()=>v(o)}s.b.length&&N(()=>{g(e,l),m(s.b)}),h(()=>{const i=j(()=>s.m.map(D));return()=>{for(const r of i)typeof r=="function"&&r()}}),s.a.length&&h(()=>{g(e,l),m(s.a)})}function g(f,e){if(f.l.s)for(const s of f.l.s)v(s);e()}export{L as h,M as i};
